<?xml version="1.0" encoding="UTF-8"?>
<pmd-cpd>
<duplication lines="10" tokens="162">
<file line="357" path="/home/m/work/piccolo2d/piccolo2d.java/core/src/main/java/edu/umd/cs/piccolo/PCanvas.java"/>
<file line="370" path="/home/m/work/piccolo2d/piccolo2d.java/core/src/main/java/edu/umd/cs/piccolo/PCanvas.java"/>
<codefragment>
<![CDATA[
				public void mouseExited(MouseEvent e) {
					MouseEvent simulated = null;
					
					if ((e.getModifiersEx() & (InputEvent.BUTTON1_DOWN_MASK | InputEvent.BUTTON2_DOWN_MASK | InputEvent.BUTTON3_DOWN_MASK)) != 0) {
						simulated = new MouseEvent((Component)e.getSource(),MouseEvent.MOUSE_DRAGGED,e.getWhen(),e.getModifiers(),e.getX(),e.getY(),e.getClickCount(),e.isPopupTrigger(),e.getButton());
					} else {
						simulated = new MouseEvent((Component)e.getSource(),MouseEvent.MOUSE_MOVED,e.getWhen(),e.getModifiers(),e.getX(),e.getY(),e.getClickCount(),e.isPopupTrigger(),e.getButton());
					}
	
					sendInputEventToInputManager(simulated, simulated.getID());
]]>
</codefragment>
</duplication>
<duplication lines="23" tokens="103">
<file line="176" path="/home/m/work/piccolo2d/piccolo2d.java/core/src/main/java/edu/umd/cs/piccolo/util/PAffineTransform.java"/>
<file line="231" path="/home/m/work/piccolo2d/piccolo2d.java/core/src/main/java/edu/umd/cs/piccolo/util/PAffineTransform.java"/>
<codefragment>
<![CDATA[
	public Rectangle2D inverseTransform(Rectangle2D rectSrc, Rectangle2D rectDst) {
		if (rectDst == null) {
			rectDst = (Rectangle2D) rectSrc.clone();
		}
		
		if (rectSrc.isEmpty()) {
			rectDst.setRect(rectSrc);
			if (rectDst instanceof PBounds) {
				((PBounds)rectDst).reset();
			}
			return rectDst; 		
		}
		
		double scale;

		switch (getType()) {
			case AffineTransform.TYPE_IDENTITY:
				if (rectSrc != rectDst)
					rectDst.setRect(rectSrc);
				break;

			case AffineTransform.TYPE_TRANSLATION:
				rectDst.setRect(rectSrc.getX() - getTranslateX(), 
]]>
</codefragment>
</duplication>
</pmd-cpd>