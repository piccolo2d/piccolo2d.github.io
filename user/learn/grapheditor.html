<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta content="HTML Tidy for Linux/x86 (vers 1st December 2002), see www.w3.org"
    name="generator" />
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
    <meta name="description"
    content="Home Page for the Piccolo resarch project of the Human-Computer Interaction Lab." />
    <meta name="format" content="text/html" />
    <meta name="keywords"
    content="piccolo, piccolo.net, zoomable, zui, user interfaces, human-computer interaction, HCI, visualization, education" />
    <meta name="publisher" content="Human-Computer Interaction Lab, University of Maryland" />
    <meta name="relation" content="(contained in)=http://www.cs.umd.edu/hcil/piccolo" />
    <meta name="rights statement"
    content="Copyright; 2004 The University of Maryland, College Park, MD 20782 USA. All rights reserved." />
    <title>
      Piccolo Home Page
    </title>
    <link rel="StyleSheet" href="http://www.cs.umd.edu/hcil/style.css" type="text/css" />
    <link rel="stylesheet" href="../style.css" type="text/css" />
    <script language="JavaScript" type="text/javascript" src="snippets.js">
    //<![CDATA[
    //]]>
    </script>
    <script language="JavaScript" type="text/javascript" src="../scrollsidebar.js">
    //<![CDATA[
    //]]>
    </script>
  </head>
  <body bgcolor="#FFFFFF" text="#000000" link="#000080" vlink="#390764" alink="#FFB926">
    <!--#include virtual="/hcil/research/banner.html"-->
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr>
        <td valign="top" width="165" nowrap="nowrap">
          <table border="0" cellpadding="10" cellspacing="0" width="165">
            <tr>
              <td valign="top" nowrap="nowrap">
                <a href="../index.shtml" class="heading">Piccolo</a><br />
                <br />
                 <a href="index.shtml" class="side_pane">Learn</a><br />
                 &#160;&#160;<a class="side_pane_small" href="about.shtml">About Piccolo</a><br />
                 &#160;&#160;<a class="side_pane_small" href="patterns.shtml">Piccolo
                Patterns</a><br />
                 &#160;&#160;<a href="get-started.shtml" class="side_pane_small">Getting
                Started</a><br />
                 &#160;&#160;&#160;&#160;&#160;<a class="side_pane_small"
                href="out-of-box-java.shtml">.Java: Out of the Box</a><br />
                 &#160;&#160;&#160;&#160;&#160;<a href="out-of-box-dotnet.shtml"
                class="side_pane_small">.NET: Out of the Box</a><br />
                 &#160;&#160;&#160;&#160;&#160;<a class="side_pane_small"
                href="interface.shtml">The Interface</a><br />
                 &#160;&#160;&#160;&#160;&#160;<a class="side_pane_small"
                href="interaction.shtml">User Interaction</a><br />
                 &#160;&#160;&#160;&#160;&#160;<a class="side_pane_small"
                href="effects.shtml">Special Effects</a><br />
                 &#160;&#160;&#160;&#160;&#160;<a class="side_pane_small"
                href="fisheye.shtml">Fisheye Calendar</a><br />
                 &#160;&#160;&#160;&#160;&#160; <span class="curr_page_link_small">Graph
                Editor</span><br />
                 &#160;&#160;<a class="side_pane_small" href="api.shtml">API
                Documentation</a><br />
                 &#160;&#160;<a href="comparison.shtml"
                class="side_pane_small">Piccolo&#160;in&#160;Comparison</a><br />
                 &#160;&#160;<a class="side_pane_small"
                href="publications.shtml">Publications</a><br />
                 &#160;&#160;<a class="side_pane_small" href="dev-faq.shtml">Developer
                FAQ</a><br />
                 &#160;&#160;<a href="maillists.shtml" class="side_pane_small">Mailing
                Lists</a><br />
                 <a href="../play/index.shtml" class="side_pane">Play</a><br />
                 <a href="../team/index.shtml" class="side_pane">Team</a><br />
                 <a href="../press/index.shtml" class="side_pane">Press</a><br />
                 <a href="../contribute/index.shtml" class="side_pane">Contribute</a><br />
                 <a href="../applications/index.shtml" class="side_pane">Applications</a><br />
                 <a href="../contact/index.shtml" class="side_pane">Contact Us</a><br />
                <br />
                 
                <table border="1" cellpadding="5" cellspacing="0" width="120"
                bordercolor="#FF0000">
                  <tr>
                    <td>
                      <a href="../download/index.shtml" class="side_pane">Download</a><br />
                    </td>
                  </tr>
                </table>
              </td>
            </tr>
          </table>
        </td>
        <td valign="top">
          <table border="0" cellpadding="10" cellspacing="0" cols="1" height="100%" width="100%">
            <tr>
              <td bgcolor="#D6D583" width="640" valign="top" class="dark_text">
                <b class="dark_heading">Getting Started</b><br />
                <br />
                 Here you will find both basic and advanced tutorials to help you get started using
                Piccolo.&#160; All tutorials provide examples in both Java and C#.&#160; This
                section assumes you have read <a href="patterns.shtml" class="main_pane">Piccolo
                Patterns</a> and have a basic understanding of the concepts presented there.
              </td>
            </tr>
            <tr>
              <td bgcolor="#FFFD9C" width="640" height="550" valign="top">
                <table border="0" width="100%" id="table1">
                  <tr>
                    <td>
                      <b class="dark_heading_two">Graph Editor</b> 
                      <p>
                        <i>This tutorial will illustrate how you might build a graph editor
                        interface using Piccolo.&#160; Moving the mouse over a node will highlight
                        that node.&#160; And, dragging a node will move that node around, keeping
                        the edges connected.</i>
                      </p>
                    </td>
                    <td valign="top">
                      <div style="border:thin solid blue; position: relative; width: 123px; height: 70px; z-index: 3; float: right"
                           id="language">
                        &#160;Show examples in<br />
                         &#160;&#160;&#160;&#160;&#160;<img border="0" src="images/check.gif"
                        width="15" height="15" id="java0" /> <a id="jlink0" class="main_content"
                        style="color: #000000; text-decoration: none"
                        onmousedown="swapSections('csharp', 'java', 'clink', 'jlink');"
                        href="javascript:void(0);">Java</a><br />
                         &#160;&#160;&#160;&#160;&#160;<img style="visibility: hidden" border="0"
                        src="images/check.gif" width="15" height="15" id="csharp0" />
                        <a id="clink0" class="main_content"
                        onmousedown="swapSections('java', 'csharp', 'jlink', 'clink');"
                        href="javascript:void(0);">C#</a>
                      </div>
                    </td>
                  </tr>
                </table>
                <center>
                  <img border="0" src="images/grapheditor.jpg" /><br />
                   Download the complete code sample in <a class="main_pane"
                  href="codesamples/GraphEditor.Java.zip">Java</a> or <a class="main_pane"
                  href="codesamples/GraphEditor.NET.zip">C#</a>.<br />
                   <a class="main_pane" href="../play/applet/grapheditor.shtml">Play</a> with the
                  interface.
                </center>
                <p>
                  <span class="dark_heading_two">Overall Architecture</span>
                </p>In this example, we will use the <code>PPath</code> node provided by Piccolo
                for both our nodes and edges.&#160; Rather than creating our own data structure to
                keep track of the connections, we will use <code>PNode</code>'s <code>Tag</code>
                property in .NET and its <code>getAttribute</code> and <code>addAttribute</code>
                methods in Java.&#160; Both of these mechanisms provide the ability to attach extra
                information to a node without subclassing it.&#160; For each node in the graph, we
                will attach a list of its connected edges.&#160; And for each edge in the graph, we
                will attach a list of its connected nodes. 
                <p>
                  We will then create a reusable GraphEditor component that extends PCanvas. This
                  component will add the nodes and edges to the scene-graph.&#160; We will also
                  create an event handler class to drag the nodes and update the edges.&#160;
                  Finally, we will create a wrapper window called GraphEditorTester and add our new
                  component to the window.
                </p>
                <p>
                  <a name="step1"
                  id="step1"></a><span class="dark_heading_two"><font color="#0000FF">1.</font>
                  Create a Graph Canvas</span>
                </p>
                <p>
                  <i>We will make a reusable component that extends PCanvas and initializes the
                  graph.</i>
                </p>
                <div type="a" style="margin-left: 2em">
                  We extend PCanvas and add some random nodes and edges.&#160; Add the following
                  class to your project.<br />
                  <br />
                   <a id="jlink2" class="main_content"
                  style="color: #000000; text-decoration: none"
                  onmousedown="swapSections('csharp', 'java', 'clink', 'jlink');"
                  href="javascript:void(0);">Java</a> | <a id="clink2" class="main_content"
                  onmousedown="swapSections('java', 'csharp', 'jlink', 'clink');"
                  href="javascript:void(0);">C#</a><br />
                   
                  <div style="position: relative; background-color: #D6D583; width: 100%;"
                  id="snippet1">
                    <div style="visibility: visible; padding-left: 10px; padding-top: 10px; position: relative; width: 575px; z-index: 1; left:0px; top:0px"
                         id="java2">
                      <pre style="font-family : 'Courier New', Courier, monospace; font-size: 13px;">

<!--#include virtual="/hcil/piccolo/learn/snippets/t5_graph/java_canvas.html"-->
                     
</pre>
                    </div>
                    <div style="visibility: hidden; padding-left: 10px; padding-top: 10px; position: absolute; width: 575px; z-index: 2; left:0px; top:0px"
                         id="csharp2">
                      <pre style="font-family : 'Courier New', Courier, monospace; font-size: 13px;">

<!--#include virtual="/hcil/piccolo/learn/snippets/t5_graph/csharp_canvas.html"-->
                     
</pre>
                    </div>
                  </div><br />
                   First we create some randomly positioned ellipses, for our nodes.&#160; Next, we
                  need to attach a list to each node, to store the connected edges.&#160;
                  <i>Piccolo.NET</i> provides the ability to add an object reference as a tag
                  whereas <i>Piccolo.Java</i> uses a set of named attributes instead.&#160; In the
                  Java version, we use <code>addAttribute</code> to attach an ArrayList.&#160; In
                  the .NET version, we set each node's <code>Tag</code> property to an
                  ArrayList.<br />
                  <br />
                   Next, we create some lines for our edges. Note, we use a separate layer added
                  underneath the main layer, to insure that the nodes are always on top.&#160; For
                  each edge, we randomly choose two nodes to connect.&#160; We add the edge to each
                  node's list of edges and we add the nodes to the edge's list of nodes.&#160; The
                  <code>UpdateEdge</code> method is called to position the line's endpoints to the
                  center points of each node.<br />
                  <br />
                   Finally, we add an event listener, defined below, to make our graph interactive.
                </div>
                <p>
                  &#160;<a name="step2"
                  id="step2"></a><span class="dark_heading_two"><font color="#0000FF">2.</font>
                  Create a Drag Event Handler</span>
                </p><br />
                <br />
                <br />
                <br />
                 
                <p>
                  <i>We will create an event listener class to handle all of the interaction of our
                  application, including highlighting and dragging nodes.</i>
                </p>
                <div type="a" style="margin-left: 2em">
                  We extend <code>PDragSequenceEventHandler</code> to create an event listener that
                  performs some operation during a drag sequence.&#160; Add the following code to
                  your project.&#160; For the Java version, you should add the anonymous event
                  listener class to the constructor.<br />
                  <br />
                   <a id="jlink1" class="main_content"
                  style="color: #000000; text-decoration: none"
                  onmousedown="swapSections('csharp', 'java', 'clink', 'jlink');"
                  href="javascript:void(0);">Java</a> | <a id="clink1" class="main_content"
                  onmousedown="swapSections('java', 'csharp', 'jlink', 'clink');"
                  href="javascript:void(0);">C#</a><br />
                   
                  <div style="position: relative; background-color: #D6D583; width: 100%;"
                  id="snippet0">
                    <div style="visibility: visible; padding-left: 10px; padding-top: 10px; position: relative; width: 575px; z-index: 1; left:0px; top:0px"
                         id="java1">
                      <pre style="font-family : 'Courier New', Courier, monospace; font-size: 13px;">

<!--#include virtual="/hcil/piccolo/learn/snippets/t5_graph/java_nodehandler.html"-->
                     
</pre>
                    </div>
                    <div style="visibility: hidden; padding-left: 10px; padding-top: 10px; position: absolute; width: 575px; z-index: 2; left:0px; top:0px"
                         id="csharp1">
                      <pre style="font-family : 'Courier New', Courier, monospace; font-size: 13px;">

<!--#include virtual="/hcil/piccolo/learn/snippets/t5_graph/csharp_nodehandler.html"-->
                     
</pre>
                    </div>
                  </div><br />
                   When the mouse enters a node, we set the node's fill color to red to highlight
                  the node.&#160; When the mouse leaves a node, we set it's fill color back to
                  white.&#160; We only do this when no mouse buttons are pressed because we don't
                  want to highlight a node when the mouse is dragged overtop of it.&#160; And, we
                  consume the drag event, so that we will not pan when a node is dragged.<br />
                  <br />
                   We also need to update the edges.&#160; During a drag sequence, we iterate over
                  the dragged node's edges and call <code>UpdateEdge</code> on each one.&#160;
                  Recall this method gets the two nodes each edge connects, and then repositions
                  the edge to the center points of each connected node.
                </div>
                <p>
                  <a name="step3"
                  id="step3"></a><span class="dark_heading_two"><font color="#0000FF">3.</font> Add
                  the Canvas to a Window</span>
                </p>
                <p>
                  <i>Now we are ready to add our new component to the window.</i>
                </p>
                <div type="a" style="margin-left: 2em">
                  We create a <code>JFrame</code> in Java or a <code>Form</code> in .NET as a
                  wrapper for our component. Add the following class to your project.<br />
                  <br />
                   <a id="jlink3" class="main_content"
                  style="color: #000000; text-decoration: none"
                  onmousedown="swapSections('csharp', 'java', 'clink', 'jlink');"
                  href="javascript:void(0);">Java</a> | <a id="clink3" class="main_content"
                  onmousedown="swapSections('java', 'csharp', 'jlink', 'clink');"
                  href="javascript:void(0);">C#</a><br />
                   
                  <div style="position: relative; background-color: #D6D583; width: 100%;"
                  id="snippet3">
                    <div style="visibility: visible; padding-left: 10px; padding-top: 10px; position: absolute; width: 575px; z-index: 1; left:0px; top:0px"
                         id="java3">
                      <pre style="font-family : 'Courier New', Courier, monospace; font-size: 13px;">

<!--#include virtual="/hcil/piccolo/learn/snippets/t5_graph/java_window.html"-->
                     
</pre>
                    </div>
                    <div style="visibility: hidden; padding-left: 10px; padding-top: 10px; position: relative; width: 575px; z-index: 2; left:0px; top:0px"
                         id="csharp3">
                      <pre style="font-family : 'Courier New', Courier, monospace; font-size: 13px;">

<!--#include virtual="/hcil/piccolo/learn/snippets/t5_graph/csharp_window.html"-->
                     
</pre>
                    </div>
                  </div><br />
                   First, we create an instance of our GraphEditor component and add it to the
                  form's list of controls.&#160; Then, we anchor or new component to the sides of
                  the window, so that it will get resized when the window is resized.
                </div>
              </td>
            </tr>
          </table>
        </td>
      </tr>
    </table>
  </body>
</html>
