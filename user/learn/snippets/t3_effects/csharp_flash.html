class Flash : PActivity {
	bool fRed;
	PNode target;

	public Flash(PNode target, long aDuration, long aStepInterval,
		long aStartTime) : base(aDuration, aStepInterval, aStartTime) {

		this.target = target;
	}

	protected override void OnActivityStep(long elapsedTime) {
		base.OnActivityStep (elapsedTime);

		// Toggle the target node's brush color between red and green
		// each time the activity steps.
		if (fRed) {
			target.Brush = Brushes.Red;
		} else {
			target.Brush = Brushes.Green;
		}		
				
		fRed = !fRed;
	}
}