<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang='en' xmlns='http://www.w3.org/1999/xhtml' xml:lang="en">
<head>
  <meta name='generator' content=
  'HTML Tidy for Linux/x86 (vers 7 December 2008), see www.w3.org' />
  <meta content='text/html; charset=us-ascii' http-equiv='Content-Type' />
  <meta name='description' content='Home Page for the Piccolo2D project.' />
  <meta name='format' content='text/html' />
  <meta name='keywords' content=
  'piccolo2d, piccolo2d.net, piccolo, piccolo.net, zoomable, zui, user interfaces, human-computer interaction, HCI, visualization, education' />
  <meta name='relation' content='(contained in)=http://www.piccolo2d.org' />

  <title>Piccolo2D.Java - Building the Interface</title>
  <link href='../piccolo2d.css' rel='stylesheet' type='text/css' />
</head>

<body>
  <div id='navigation'>
    <!-- 
this navigation node is auto-generated and injected
by the script tools/inject_navigation.rb

DO NOT EDIT IT MANUALLY!!!      
-->

    <p class='header'><a href='../index.html'><img src='../images/Piccolo2D-Logo-small.png' alt=
    'Piccolo2D Logo' /></a></p>

    <ul>
      <li>
        <a href='../index.html'>Piccolo2D&nbsp;Home</a>

        <ul>
          <li><a href='../play/index.html'>Play</a></li>

          <li>
            <a href='../learn/index.html'>Learn</a>

            <ul>
              <li><a href='../learn/about.html'>About&nbsp;Piccolo2D</a></li>

              <li><a href='../learn/patterns.html'>Piccolo2D&nbsp;Patterns</a></li>

              <li>
                <a href='../learn/get-started.html'>Getting&nbsp;Started</a>

                <ul>
                  <li><a href=
                  '../learn/out-of-box-java.html'>Java:&nbsp;Out&nbsp;of&nbsp;the&nbsp;Box</a></li>

                  <li><a href=
                  '../learn/out-of-box-dotnet.html'>.Net:&nbsp;Out&nbsp;of&nbsp;the&nbsp;Box</a></li>

                  <li><a href='../learn/interface.html' class=
                  'selected'>The&nbsp;Interface</a></li>

                  <li><a href='../learn/interaction.html'>User&nbsp;Interaction</a></li>

                  <li><a href='../learn/effects.html'>Special&nbsp;Effects</a></li>

                  <li><a href='../learn/fisheye.html'>Fisheye&nbsp;Calendar</a></li>

                  <li><a href='../learn/grapheditor.html'>Graph&nbsp;Editor</a></li>
                </ul>
              </li>

              <li><a href='../learn/api.html'>API&nbsp;Documentation</a></li>

              <li><a href='../learn/comparison.html'>Piccolo2D&nbsp;in&nbsp;Comparison</a></li>

              <li><a href='../learn/publications.html'>Publications</a></li>

              <li><a href='../learn/dev-faq.html'>Developer&nbsp;FAQ</a></li>

              <li><a href='../learn/graphics.html'>Graphics&nbsp;Primer</a></li>
            </ul>
          </li>

          <li><a href='../download.html'>Download</a></li>

          <li><a href='../community.html'>Community</a></li>

          <li><a href='../applications/index.html'>Applications</a></li>

          <li><a href='../press.html'>Press</a></li>

          <li><a href='../sponsors.html'>Sponsors</a></li>
        </ul>
      </li>
    </ul><!--
<p>
        <img src='../images/giny-small.png' alt='a nice graph' />
</p>
-->

    <p class='bugreport'><a href=
    'http://code.google.com/p/piccolo2d/issues/entry?template=User%20defect%20report'>Found a
    Typo?</a></p>

    <p class='validators'><a href='http://validator.w3.org/check/referer'><img src=
    'http://www.w3.org/Icons/valid-xhtml10-blue' alt='Valid XHTML 1.0!' style=
    'border:0;width:88px;height:31px' /></a> <a href=
    'http://jigsaw.w3.org/css-validator/check/referer'><img src=
    'http://www.w3.org/Icons/valid-css-blue' alt='Valid CSS1!' style=
    'border:0;width:88px;height:31px' /></a></p>
  </div>

  <div id='main'>
    <div id='main-head'>
      <h1>Getting Started</h1>Here you will find both basic and advanced tutorials to help you get
      started using Piccolo2D.&nbsp; All tutorials provide examples in both Java and C#.&nbsp; This
      section assumes you have read <a href='patterns.html'>Piccolo2D Patterns</a> and have a basic
      understanding of the concepts presented there.
    </div>

    <p class='toggle' id='language' style=
    'float: right; width: 8.5em; height: 8ex; border:thin solid blue;'>Show examples in<br />
    <img src='images/check.png' id='java0' alt='Checkmark' style=
    'border:0;width:1.0em;height:2ex' /> <a href='javascript:void(0);' class='toggle selected' id=
    'jlink0' onmousedown=
    'swapSections(&#39;csharp&#39;, &#39;java&#39;, &#39;clink&#39;, &#39;jlink&#39;);' name=
    "jlink0">Java</a><br />
    <img src='images/check.png' id='csharp0' alt='Checkmark' style=
    'visibility: hidden;border:0;width:1.0em;height:2ex' /> <a href='javascript:void(0);' id=
    'clink0' onmousedown=
    'swapSections(&#39;java&#39;, &#39;csharp&#39;, &#39;jlink&#39;, &#39;clink&#39;);' name=
    "clink0">C#</a></p>

    <h1>Building the Interface</h1>

    <p><i>This tutorial will show you how to build a Piccolo2D interface.&nbsp; It will cover how
    to use the default nodes, how to create new nodes through composition and how to create new
    nodes using inheritance.</i></p>

    <p class='image'><img src='images/interface.jpg' alt='Interfaces' /><br />
    Download the complete code sample in <a href=
    'http://piccolo2d.googlecode.com/files/codesample.java-1.2-buildinginterface.zip'>Java</a> or
    <a href=
    'http://piccolo2d.googlecode.com/files/codesample.net-1.2-buildinginterface.zip'>C#</a>.</p>

    <h2><a id='step1' name="step1">1. Setup</a></h2>

    <p class='preamble'>We need to create a window with a Piccolo2D canvas, so that we can add the
    interface components to the canvas.</p>

    <ol>
      <li>
        <p>First you will need to reference the appropriate packages/namespaces.&nbsp; Add the
        following lines to the top of your code file:</p>

        <p class='toggle'><a href='javascript:void(0);' class='toggle selected' id='jlink1'
        onmousedown=
        'swapSections(&#39;csharp&#39;, &#39;java&#39;, &#39;clink&#39;, &#39;jlink&#39;);' name=
        "jlink1">Java</a> | <a href='javascript:void(0);' id='clink1' onmousedown=
        'swapSections(&#39;java&#39;, &#39;csharp&#39;, &#39;jlink&#39;, &#39;clink&#39;);' name=
        "clink1">C#</a></p>

        <div class='snippet' id='snippet1'>
          <pre class='snippet java' id='java1'>
import edu.umd.cs.piccolo.*;
import edu.umd.cs.piccolo.event.*;
import edu.umd.cs.piccolo.nodes.*;
import edu.umd.cs.piccolo.util.*;
import edu.umd.cs.piccolox.*;   
</pre>
          <pre class='snippet csharp' id='csharp1'>
using UMD.HCIL.Piccolo;
using UMD.HCIL.Piccolo.Event;
using UMD.HCIL.Piccolo.Nodes;
using UMD.HCIL.Piccolo.Util;
using UMD.HCIL.PiccoloX;
</pre>
        </div>

        <p>The first line adds the base Piccolo2D types, such as <code>PNode</code>. The second
        line includes the basic event types.&nbsp; The third line includes the default node types
        that Piccolo2D provides, all of which extend <code>PNode</code>.&nbsp; The fourth line
        includes several utility classes.&nbsp; And the last line includes various "extras," such
        as <code>PForm</code> in .NET and <code>PFrame</code> in Java, which will be used
        below.</p>
      </li>

      <li>
        <p>Next we will extend the <code>PForm</code> class in .NET or the <code>PFrame</code>
        class in Java. This is a convenience class that adds a <code>PCanvas</code> to a window.
        When you extend this class, you should NOT add your Piccolo2D code to the constructor.
        Instead, you should override the <code>initialize</code> method and add all of your
        Piccolo2D code there.&nbsp; See the <a href='dev-faq.html'>FAQ</a> for more details.</p>

        <p class='toggle'><a href='javascript:void(0);' class='toggle selected' id='jlink2'
        onmousedown=
        'swapSections(&#39;csharp&#39;, &#39;java&#39;, &#39;clink&#39;, &#39;jlink&#39;);' name=
        "jlink2">Java</a> | <a href='javascript:void(0);' id='clink2' onmousedown=
        'swapSections(&#39;java&#39;, &#39;csharp&#39;, &#39;jlink&#39;, &#39;clink&#39;);' name=
        "clink2">C#</a></p>

        <div class='snippet' id='snippet2'>
          <pre class='snippet java' id='java2'>
public class InterfaceFrame extends PFrame {    
        public void initialize() {
                //Add Piccolo2D code here.
        }
}
</pre>
          <pre class='snippet csharp' id='csharp2'>
public class InterfaceForm : PForm {
        public override void Initialize() {
                //Add Piccolo2D code here.
        }
}
</pre>
        </div>
      </li>
    </ol>

    <h2 id='step2'>2. Add a Drag Event Handler.</h2>

    <p class='preamble'>Now lets define some interaction for the nodes that we will add below.</p>

    <ol>
      <li>
        <p>By default, the pan and zoom event handlers are installed.&nbsp; We will remove the pan
        event handler and add a drag event handler instead so that the individual nodes can be
        dragged around.&nbsp; Add the following lines of code to the <code>initialize</code>
        method.</p>

        <p class='toggle'><a href='javascript:void(0);' class='toggle selected' id='jlink3'
        onmousedown=
        'swapSections(&#39;csharp&#39;, &#39;java&#39;, &#39;clink&#39;, &#39;jlink&#39;);' name=
        "jlink3">Java</a> | <a href='javascript:void(0);' id='clink3' onmousedown=
        'swapSections(&#39;java&#39;, &#39;csharp&#39;, &#39;jlink&#39;, &#39;clink&#39;);' name=
        "clink3">C#</a></p>

        <div class='snippet' id='snippet3'>
          <pre class='snippet java' id='java3'>
// Remove the Default pan event handler and add a drag event handler
// so that we can drag the nodes around individually.
getCanvas().setPanEventHandler(null);
getCanvas().addInputEventListener(new PDragEventHandler());
</pre>
          <pre class='snippet csharp' id='csharp3'>
// Remove the default pan event handler and add a drag event handler
// so that we can drag the nodes around individually.
Canvas.PanEventHandler = null;
Canvas.AddInputEventListener(new PDragEventHandler());
</pre>
        </div>
      </li>
    </ol>

    <h2 id='step3'>3. Add Some Default Nodes</h2>

    <p class='preamble'>Now we will add a few nodes to the interface.&nbsp; In addition to PNode,
    Piccolo2D comes with three basic types of nodes (PPath, PText and PImage), plus a few in the
    extras package.&nbsp; We will add each of the basic types below.</p>

    <ol>
      <li>
        <p>First we will use PNode directly.&nbsp; PNode is a concrete class and can be added to
        the scene.&nbsp; By default, a PNode will just fill its bounds with its brush.&nbsp; Add
        the following lines of code to the <code>initialize</code> method.</p>

        <p class='toggle'><a href='javascript:void(0);' class='toggle selected' id='jlink4'
        onmousedown=
        'swapSections(&#39;csharp&#39;, &#39;java&#39;, &#39;clink&#39;, &#39;jlink&#39;);' name=
        "jlink4">Java</a> | <a href='javascript:void(0);' id='clink4' onmousedown=
        'swapSections(&#39;java&#39;, &#39;csharp&#39;, &#39;jlink&#39;, &#39;clink&#39;);' name=
        "clink4">C#</a></p>

        <div class='snippet' id='snippet4'>
          <pre class='snippet java' id='java4'>
// Create a node.
PNode aNode = new PNode();

// A node will not be visible until its bounds and brush are set.
aNode.setBounds(0, 0, 100, 80);
aNode.setPaint(Color.RED);

// A node needs to be a descendent of the root to be displayed.
PLayer layer = getCanvas().getLayer();
layer.addChild(aNode);
        
// A node can have child nodes added to it.
PNode anotherNode = new PNode();
anotherNode.setBounds(0, 0, 100, 80);
anotherNode.setPaint(Color.YELLOW);
aNode.addChild(anotherNode);
        
// The base bounds of a node are easy to change.  Changing the bounds
// of a node will not affect its children.
aNode.setBounds(-10, -10, 200, 110);
        
// Each node has a transform that can be used to modify the position,
// scale or rotation of a node.  Changing a node's transform, will
// transform all of its children as well.
aNode.translate(100, 100);
aNode.scale(1.5f);
aNode.rotate(45);
</pre>
          <pre class='snippet csharp' id='csharp4'>
// Create a node.
PNode aNode = new PNode();

// A node will not be visible until its bounds and brush are set.
aNode.SetBounds(0, 0, 100, 80);
aNode.Brush = Brushes.Red;

// A node needs to be a descendent of the root to be displayed.
PLayer layer = Canvas.Layer;
layer.AddChild(aNode);
                                
// A node can have child nodes added to it.
PNode anotherNode = new PNode();
anotherNode.SetBounds(0, 0, 100, 80);
anotherNode.Brush = Brushes.Yellow;
aNode.AddChild(anotherNode);
                                
// The base bounds of a node are easy to change.  Changing the bounds
// of a node will not affect it's children.
aNode.SetBounds(-10, -10, 200, 110);
                
// Each node has a transform that can be used to modify the position,
// scale or rotation of a node.  Changing a node's transform, will
// transform all of its children as well.
aNode.TranslateBy(100, 100);
aNode.ScaleBy(1.5f);
aNode.RotateBy(45);
</pre>
        </div>

        <p>This snippet illustrates how to create a node and add it to the scene.&nbsp; Typically
        you will add nodes to the main layer.&nbsp; It also shows that there are two ways to affect
        the position and size of a node, by changing its bounds or its transform.&nbsp; The first
        approach does not affect the node's children, while the second does.&nbsp; You can think of
        modifying a node's transform as defining a new coordinate system for that node and all of
        its children.</p>
      </li>

      <li>
        <p>PNode itself is not very interesting.&nbsp; So, lets try some more advanced nodes.&nbsp;
        Add the following lines of code to the <code>initialize</code> method.</p>

        <p class='toggle'><a href='javascript:void(0);' class='toggle selected' id='jlink5'
        onmousedown=
        'swapSections(&#39;csharp&#39;, &#39;java&#39;, &#39;clink&#39;, &#39;jlink&#39;);' name=
        "jlink5">Java</a> | <a href='javascript:void(0);' id='clink5' onmousedown=
        'swapSections(&#39;java&#39;, &#39;csharp&#39;, &#39;jlink&#39;, &#39;clink&#39;);' name=
        "clink5">C#</a></p>

        <div class='snippet' id='snippet5'>
          <pre class='snippet java' id='java5'>
// Add a couple of PPath nodes and a PText node.
layer.addChild(PPath.createEllipse(0, 0, 100, 100));
layer.addChild(PPath.createRectangle(0, 100, 100, 100));
layer.addChild(new PText("Hello World"));

// Here we create a PImage node that displays a thumbnail image
// of the root node. Then we add the new PImage to the main layer.
PImage image = new PImage(layer.toImage(300, 300, null));
layer.addChild(image);
</pre>
          <pre class='snippet csharp' id='csharp5'>
// Add a couple of PPath nodes and a PText node.
layer.AddChild(PPath.CreateEllipse(0, 0, 100, 100));
layer.AddChild(PPath.CreateRectangle(0, 100, 100, 100));
layer.AddChild(new PText("Hello World"));

// Here we create a PImage node that displays a thumbnail image
// of the root node. Then we add the new PImage to the main layer.
PImage image = new PImage(layer.ToImage(300, 300));
layer.AddChild(image);
</pre>
        </div>

        <p>In the first two lines, we add a couple of path nodes.&nbsp; <code>PPath</code>
        represents a general path.&nbsp; You can create arbitrary paths by adding line segments and
        arcs or you can use one of the static <code>CreateXXX</code> methods to create a common
        shape.&nbsp; The <code>Pen</code> property in .NET and <code>the setStroke()</code> and
        <code>setStrokePaint()</code> methods in java define how the edge of a path is drawn, while
        the <code>Brush</code> property in .NET and the <code>setPaint()</code> method in Java will
        define how the path is filled.</p>

        <p>Next, we add a text node.&nbsp; PText is a multi-line text node that will wrap its text
        based on the width of the node's bounds.</p>

        <p>Finally, we add an image node.&nbsp; PImage wraps an image so that it can be added to
        the Piccolo2D hierarchy.&nbsp; Above, we take advantage of the <code>PNode.ToImage()</code>
        method, which can be used to get a thumbnail of any node.</p>
      </li>
    </ol>

    <h2 id='step4'>4. Create a New Node using Composition</h2>

    <p class='preamble'>The real power of Piccolo2D is the ability to make new kinds of interface
    components.&nbsp; There are various way to make new types of nodes.&nbsp; Here we will examine
    how to create new nodes by combining several pre-existing nodes together.</p>

    <ol>
      <li>
        <p>We will create a face node by adding the eyes and mouth as the children of another
        node.&nbsp; Add the following lines of code to the <code>initialize</code> method.</p>

        <p class='toggle'><a href='javascript:void(0);' class='toggle selected' id='jlink6'
        onmousedown=
        'swapSections(&#39;csharp&#39;, &#39;java&#39;, &#39;clink&#39;, &#39;jlink&#39;);' name=
        "jlink6">Java</a> | <a href='javascript:void(0);' id='clink6' onmousedown=
        'swapSections(&#39;java&#39;, &#39;csharp&#39;, &#39;jlink&#39;, &#39;clink&#39;);' name=
        "clink6">C#</a></p>

        <div class='snippet' id='snippet6'>
          <pre class='snippet java' id='java6'>
PNode myCompositeFace = PPath.createRectangle(0, 0, 100, 80);
        
// Create parts for the face.
PNode eye1 = PPath.createEllipse(0, 0, 20, 20);
eye1.setPaint(Color.YELLOW);
PNode eye2 = (PNode) eye1.clone();
PNode mouth = PPath.createRectangle(0, 0, 40, 20);
mouth.setPaint(Color.BLACK);
        
// Add the face parts.
myCompositeFace.addChild(eye1);
myCompositeFace.addChild(eye2);
myCompositeFace.addChild(mouth);
        
// Don't want anyone grabbing out our eye's.
myCompositeFace.setChildrenPickable(false);
        
// Position the face parts.
eye2.translate(25, 0);
mouth.translate(0, 30);
        
// Set the face bounds so that it neatly contains the face parts.
PBounds b = myCompositeFace.getUnionOfChildrenBounds(null);
b.inset(-5, -5);
myCompositeFace.setBounds(b);
        
// Opps its to small, so scale it up.
myCompositeFace.scale(1.5);
        
layer.addChild(myCompositeFace);
</pre>
          <pre class='snippet csharp' id='csharp6'>
PNode myCompositeFace = PPath.CreateRectangle(0, 0, 100, 80);
                
// Create parts for the face.
PNode eye1 = PPath.CreateEllipse(0, 0, 20, 20);
eye1.Brush = Brushes.Yellow;
PNode eye2 = (PNode) eye1.Clone();
PNode mouth = PPath.CreateRectangle(0, 0, 40, 20);
mouth.Brush = Brushes.Black;
                
// Add the face parts
myCompositeFace.AddChild(eye1);
myCompositeFace.AddChild(eye2);
myCompositeFace.AddChild(mouth);
                
// Don't want anyone grabbing out our eye's.
myCompositeFace.ChildrenPickable = false;
                
// Position the face parts.
eye2.TranslateBy(25, 0);
mouth.TranslateBy(0, 30);
                
// Set the face bounds so that it neatly contains the face parts.
RectangleF b = myCompositeFace.UnionOfChildrenBounds;
b.Inflate(5, 5);
myCompositeFace.Bounds = b;
                
// Opps its too small, so scale it up.
myCompositeFace.ScaleBy(1.5f);
                
layer.AddChild(myCompositeFace);
</pre>
        </div>

        <p>This works because of the hierarchical nature of Piccolo2D.&nbsp; However, by default
        any node is pickable.&nbsp; "Picking" refers to the process that determines which node is
        under the mouse cursor.&nbsp; Events will be dispatched to the&nbsp; picked node and passed
        to each ancestor that also intersects that point (see the <a href=
        'interaction.html'>Defining User Interaction</a> tutorial).&nbsp; Typically event handlers
        will modify the picked node in some way.&nbsp; For example the drag event handler, will
        move the picked node, which means that the children can be dragged around without moving
        the parent.&nbsp; In this case, we only want to be able to drag the face as whole.&nbsp; So
        we make the face's children not pickable.&nbsp; This means if you click on an eye, the face
        will be picked instead.&nbsp; The drag event handler moves the picked node by modifying its
        transform so the eyes and the mouth will also be moved.</p>
      </li>
    </ol>

    <h2 id='step5'>5. Create a New Node using Inheritance</h2>

    <p class='preamble'>Of course, the ultimate creative control comes from extending the existing
    node types to create new kinds of nodes.&nbsp; Here we will use inheritance to build a new kind
    of node.</p>

    <ol>
      <li>
        <p>We will create a new node that will draw itself as an ellipse by default and as a
        rectangle when the mouse is pressed over the node.&nbsp; We will implement this class by
        extending PPath so we don't have to create the ellipse code from scratch.&nbsp; For an
        example of how you could create an ellipse node from scratch see the <a href=
        'patterns.html#Creating_Nodes'>Creating Nodes Pattern</a>.&nbsp; Add the following internal
        class beneath the <code>initialize</code> method.</p>

        <p class='toggle'><a href='javascript:void(0);' class='toggle selected' id='jlink7'
        onmousedown=
        'swapSections(&#39;csharp&#39;, &#39;java&#39;, &#39;clink&#39;, &#39;jlink&#39;);' name=
        "jlink7">Java</a> | <a href='javascript:void(0);' id='clink7' onmousedown=
        'swapSections(&#39;java&#39;, &#39;csharp&#39;, &#39;jlink&#39;, &#39;clink&#39;);' name=
        "clink7">C#</a></p>

        <div class='snippet' id='snippet7'>
          <pre class='snippet java' id='java7'>
class ToggleShape extends PPath {
                
        private boolean fIsPressed = false;

        public ToggleShape() {
                setPathToEllipse(0, 0, 100, 80);
                
                addInputEventListener(new PBasicInputEventHandler() {
                        public void mousePressed(PInputEvent event) {
                                super.mousePressed(event);
                                fIsPressed = true;
                                repaint();
                        }
                        public void mouseReleased(PInputEvent event) {
                                super.mouseReleased(event);
                                fIsPressed = false;
                                repaint();
                        }
                });
        }
        
        protected void paint(PPaintContext paintContext) {
                if (fIsPressed) {
                        Graphics2D g2 = paintContext.getGraphics();
                        g2.setPaint(getPaint());
                        g2.fill(getBoundsReference());
                } else {
                        super.paint(paintContext);
                }
        }
}
</pre>
          <pre class='snippet csharp' id='csharp7'>
class ToggleShape : PPath {
        private bool fIsPressed = false;

        public bool FIsPressed {
                set {
                        fIsPressed = value;
                        InvalidatePaint();
                }
                get { return fIsPressed; }
        }

        public ToggleShape() {
                this.AddEllipse(0, 0, 100, 80);
        }

        public override void OnMouseDown(PInputEventArgs e) {
                base.OnMouseDown (e);
                FIsPressed = true;
        }

        public override void OnMouseUp(PInputEventArgs e) {
                base.OnMouseUp (e);
                FIsPressed = false;
        }

        protected override void Paint(PPaintContext paintContext) {
                if (fIsPressed) {
                        Graphics g = paintContext.Graphics;
                        g.FillRectangle(this.Brush, this.Bounds);
                }
                else {
                        base.Paint(paintContext);
                }
        }
}
</pre>
        </div>

        <p>In the constructor we use the <code>PPath</code> to create the ellipse.&nbsp; We store
        the fIsPressed field to indicate whether or not the mouse is currently down over the
        node.&nbsp; Notice that the set accessor for fIsPressed sets the value and then calls
        <code>InvalidatePaint()</code>.&nbsp; This method notifies the framework that the node
        needs to be repainted.&nbsp; Piccolo2D will then invalidate the child paint of all the
        ancestors of this node.&nbsp; Later the screen damage will be collected for all the nodes
        with invalid paint and eventually the <code>Paint()</code> method of those nodes will get
        called.&nbsp; Notice that we override the <code>Paint()</code> method to modify how the
        node will be drawn when it is repainted.&nbsp; When fIsPressed is true, we will fill the
        bounds of the node.&nbsp; Otherwise, we will just use the base implementation, which will
        only fill the ellipse.</p>

        <p>Finally, we also use event handlers to set fIsPressed to true when the mouse is down
        over the node, and back to false, when the mouse is released.&nbsp; For more about events,
        see the <a href='interaction.html'>Defining User Interaction</a> tutorial.</p>
      </li>

      <li>
        <p>Now that we've created the new type, we have to actually add the node to the
        interface.&nbsp; Add the following lines of code to the <code>initialize</code> method.</p>

        <p class='toggle'><a href='javascript:void(0);' class='toggle selected' id='jlink8'
        onmousedown=
        'swapSections(&#39;csharp&#39;, &#39;java&#39;, &#39;clink&#39;, &#39;jlink&#39;);' name=
        "jlink8">Java</a> | <a href='javascript:void(0);' id='clink8' onmousedown=
        'swapSections(&#39;java&#39;, &#39;csharp&#39;, &#39;jlink&#39;, &#39;clink&#39;);' name=
        "clink8">C#</a></p>

        <div class='snippet' id='snippet8'>
          <pre class='snippet java' id='java8'>
ToggleShape ts = new ToggleShape();
ts.setPaint(Color.ORANGE);
layer.addChild(ts);
</pre>
          <pre class='snippet csharp' id='csharp8'>
ToggleShape ts = new ToggleShape();
ts.Brush = Brushes.Orange;
layer.AddChild(ts);
</pre>
        </div>
      </li>
    </ol>
  </div><script src='snippets.js' type='text/javascript'>
  //<![CDATA[
    //]]>
  </script><script src='../scrollsidebar.js' type='text/javascript'>
  //<![CDATA[
    //]]>
  </script>
</body>
</html>
